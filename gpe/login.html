<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Login | Demo Website</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="style.css">
  <style>
    .login-box { max-width: 350px; margin: 40px auto; padding: 2em; background: #fff; border-radius: 8px; box-shadow: 0 2px 8px #0001; }
    .login-box input { width: 100%; padding: 0.5em; margin: 0.5em 0; }
    .login-box button { width: 100%; padding: 0.7em; background: #2874A6; color: #fff; border: none; border-radius: 4px; font-size: 1.1em; }
    .login-box label { font-weight: bold; }
  </style>
  <!-- Genesys Predictive Engagement (Journey) -->
  <script>
    (function (g, e, n, es, ys) {
      g['_genesysJourney'] = e;
      g[e] = g[e] || function () { (g[e].q = g[e].q || []).push(arguments) };
      ys = document.createElement('script');
      ys.async = 1;
      ys.src = n;
      document.head.appendChild(ys);
    })(window, 'Journey', 'https://apps.mypurecloud.jp/genesys-journey/journey.min.js');
  </script>
</head>
<body>
  <nav>
    <a href="index.html">Home</a>
    <a href="product.html">Product</a>
    <a href="search.html">Search</a>
    <a href="contact.html">Contact</a>
    <a href="login.html">Login</a>
  </nav>
  <main>
    <div class="login-box">
      <h2>Login</h2>
      <form id="loginForm" autocomplete="off">
        <label for="email">Email</label>
        <input id="email" name="email" type="email" required placeholder="you@email.com">
        <label for="password">Password</label>
        <input id="password" name="password" type="password" required placeholder="Enter any password">
        <button type="submit">Login</button>
      </form>
      <div id="loginStatus" style="margin-top:1em;color:green;"></div>
    </div>
  </main>
  <script>
    // Track virtual pageview
    function trackJourneyLogin(email) {
      if (typeof Journey === "function") {
        Journey('pageview', { page: '/login' });
        Journey('attribute', { name: 'userId', value: email.split('@')[0] });
        Journey('attribute', { name: 'email', value: email });
        Journey('attribute', { name: 'role', value: 'VIP' });
      }
    }

    document.getElementById('loginForm').onsubmit = function(e) {
      e.preventDefault();
      const email = document.getElementById('email').value;
      localStorage.setItem('userEmail', email);
      // Tracking user attributes with latest login info
      trackJourneyLogin(email);

      document.getElementById('loginStatus').innerText = "Login Success! Redirecting...";
      setTimeout(() => { window.location = 'index.html'; }, 1000);
    };

    // Track pageview on page load for analytics
    document.addEventListener('DOMContentLoaded', function() {
      if (typeof Journey === "function") {
        Journey('pageview', { page: '/login' });
      }
    });
  </script>
</body>
</html>
